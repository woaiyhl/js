<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>
   <script>
     // 对象的拷贝
     var obj1 = {
       name: 'zs',
       age: 18,
       sex: '男',
       dog: {
         name: '金毛',
         age: 2,
         yellow: '黄色'
       },
       friends: ['lilei', 'hanmeimei']
     }

     var obj2 = {};


    var arr = [];
    console.log(arr instanceof Array);
    console.log(arr instanceof Object);
    // 深拷贝
    function deepCopy(o1, o2) {
      for (var key in o1) {
        if (o1[key] instanceof Array) {
          console.log(key);
          // 如果key是数组类型 Array？   []
          o2[key] = [];
          deepCopy(o1[key], o2[key]);
        } else if (o1[key] instanceof Object) {
          // 如果key是复杂类型 Object？  {}
          o2[key] = {};
          deepCopy(o1[key], o2[key]);
        } else {
          // 如果key这个属性 是基本类型
          o2[key] = o1[key];
        }
      }
    }
    deepCopy(obj1, obj2);

    // 修改obj1中的成员
    obj1.name = 'xxxx';
    obj1.dog.name = '大黄';
    obj1.friends[0] = 'xxxx';

    console.dir(obj1);
    console.dir(obj2);
    
    /* JSON.parse(JSON.stringfy()) --- 深拷贝的实现方式
    （可以实现数组或对象深拷贝,但不能处理函数）
    let arr = [1, 3, {
    username: ' kobe'
    }];
    console.log(JSON.stringify(arr));
    let arr4 = JSON.parse(JSON.stringify(arr));
    arr4[2].username = 'duncan';
    console.log(arr, arr4)
    */
   </script>
</body>
</html>