<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>

</body>
<script>
  // 
  function formatAmountWithThousands(num) {
    num = num + ''
    // if (!num.includes('.')) {
    //   num = num + '.00'
    // }
    // 1.先去除空格
    num = num.replace(/[ ]/g, '') //去除空格
    if (num === '' || isNaN(num)) {
      return
    }
    // 2.针对是否有小数点，分情况处理
    let index = num.indexOf('.')
    let reg = /(-?\d+)(\d{3})/
    if (index === -1) {
      // 无小数点
      while (reg.test(num)) {
        num = num.replace(reg, '$1,$2')
      }
      num = num + '.00'
    } else {
      num = Math.round(parseFloat(num) * 100) / 100 + ''
      let intPart = num.substring(0, index)
      let pointPart = num.substring(index + 1, num.length)
      while (reg.test(intPart)) {
        intPart = intPart.replace(reg, '$1,$2')
      }
      if (pointPart.length < 2) {
        pointPart = pointPart + '0'
      }
      num = intPart + '.' + pointPart
    }
    return num
  }

  function returnFloat(value) {
    if (!value) return value
    var value = Math.round(parseFloat(value) * 100) / 100 + '';
    var arr = value.split(".");
    if (arr.length === 1) {
      value = value + ".00";
    }
    if (arr.length > 1) {
      if (arr[1].length < 2) {
        value = value + ".0";
      }
    }
    return value
  }

  const moneyFormat = num => num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",")
  console.log(moneyFormat(1234567890.256));


  var TextBox8_all = 12340400.234;
  var num1 = TextBox8_all.toFixed(2) + "";//保留两位小数
  var text8_sum = num1.replace(/(\d{1,3})(?=(\d{3})+(?:$|\.))/g, '$1,');
  console.log(text8_sum, 'mmmm');
</script>

</html>