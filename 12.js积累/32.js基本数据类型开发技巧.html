<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>

</body>
<script>
  // 一.String skills
  // 1.对比时间(个位需补0)
  const time1 = "2019-02-14 21:00:00";
  const time2 = "2019-05-01 09:00:00";
  const overtime = time1 > time2;
  console.log(overtime, '111');
  // overtime => false

  // 2.格式化金钱
  const ThousandNum = num => num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
  const money = ThousandNum(201902141);
  // money => "20,190,214"
  console.log(money, 'yyy');

  // 3.生成随机Id
  const RandomId = len => Math.random().toString(36).substr(3, len);
  const id = RandomId(10);
  console.log(id, 'dddd');

  // 4.生成随机HEX色 值
  const RandomColor = () => "#" + Math.floor(Math.random() * 0xffffff).toString(16).padEnd(6, "0");
  const color = RandomColor();
  console.log(color, 'cccc');

  // 5.生成星级评分
  const StartScore = rate => "★★★★★☆☆☆☆☆".slice(5 - rate, 10 - rate);
  const start = StartScore(1)
  console.log(start, 'sss');

  // 6.操作URL查询参数
  const params = new URLSearchParams(location.search.replace(/\?/ig, "")); // location.search = "?name=young&sex=male"
  params.has("young"); // true
  params.get("sex"); // "male"

  // 二.Number skills
  // 1.补0
  const FillZero = (num, len) => num.toString().padStart(len, "0");
  const num = FillZero(169, 5)
  console.log(num, 'nnnn');

  // 2.转数值(只对null、""、false、数值字符串有效)
  const num1 = +null;
  const num2 = +"";
  const num3 = +false;
  const num4 = +"169";
  console.log(num1, num2, num3, num4, '44');

  // 3.时间戳
  const timestamp = +new Date("2019-02-14");
  console.log(timestamp, typeof timestamp, 'spsps');

  // 4.判断奇偶
  const OddEven = num => !!(num & 1) ? "odd" : "even";
  const oddEvenNum = OddEven(3);
  // !!的作用，强制转换成boolean类型
  console.log(2 & 1, '11');
  console.log(oddEvenNum, 'nunuu');

  // 5.取最小值、最大值
  const arr = [0, 1, 2];
  const min = Math.min(...arr);
  const max = Math.max(...arr);
  console.log(min, max, 'minmaxminaxa');

  // 6.生成范围随机数
  const RandomNum = (min, max) => Math.floor(Math.random() * (max - min + 1)) + min;
  const randomnum = RandomNum(1, 10);
  console.log(randomnum, 'mmmm');

  // 三. Boolean skills
  // 1.短路运算符
  const a = d && 1; // 满足条件赋值：取假运算，从左到右依次判断，遇到假值返回假值，后面不再执行，否则返回最后一个真值
  const b = d || 1; // 默认赋值：取真运算，从左到右依次判断，遇到真值返回真值，后面不再执行，否则返回最后一个假值
  const c = !d; // 取假赋值：单个表达式转换为true则返回false，否则返回true

  // ??运算符
  let str = null || undefined
  let result = str ?? '你真好看'
  console.log(result)//你真好看

  const nullValue = null;
  const emptyText = ""; // 空字符串，是一个假值，Boolean("") === false
  const someNumber = 42;

  const valA = nullValue ?? "valA 的默认值";
  const valB = emptyText ?? "valB 的默认值";
  const valC = someNumber ?? 0;

  console.log(valA); // "valA 的默认值"
  console.log(valB); // ""（空字符串虽然是假值，但不是 null 或者 undefined）
  console.log(valC); // 42

  // ?.运算符(处理对象时非常有用)
  let person = {}
  console.log(person.name.toString()) // 报错
  console.log(person.name?.toString()) // undefined

  // 2.判断数据类型
  // 可判断类型：undefined、null、string、number、boolean、array、object、symbol、date、regexp、function、asyncfunction、arguments、set、map、weakset、weakmap
  function DataType(tgt, type) {
    const dataType = Object.prototype.toString.call(tgt).replace(/\[object (\w+)\]/, "$1").toLowerCase();
    return type ? dataType === type : dataType;
  }

  // 3.是否为空数组
  const arr = [];
  const flag = Array.isArray(arr) && !arr.length;
  // flag => true

  // 4.是否为空对象
  const obj = {};
  const flag = DataType(obj, "object") && !Object.keys(obj).length;
  // flag => true
</script>

</html>